<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Every programmer knows the frustration of writing code and hitting run only to have the compiler locate an error that you swear wasn&#39;t an error. (That is, I&#39;m hoping it&#39;s not just me right?!) One...">
        <meta name="keywords" content="beginners, bestpractices, cleancode, learning, python, tips">

        <meta property="og:site_name" content="PyBites"/>
        <meta property="og:title" content="Don't Let Indentation Catch You Out"/>
        <meta property="og:description" content="Python indentation can be a cruel mistress. Let's get it right!"/>
        <meta property="og:locale" content="en_US"/>
        <meta property="og:url" content="https://pybit.es/indentation_tips.html"/>
        <meta property="og:type" content="article"/>
        <meta property="article:published_time" content="2016-12-30 19:51:00+01:00"/>
        <meta property="article:modified_time" content=""/>
        <meta property="article:author" content="https://pybit.es/author/julian.html">
        <meta property="article:section" content="Learning"/>
        <meta property="article:tag" content="python"/>
        <meta property="article:tag" content="learning"/>
        <meta property="article:tag" content="beginners"/>
        <meta property="article:tag" content="tips"/>
        <meta property="article:tag" content="cleancode"/>
        <meta property="article:tag" content="bestpractices"/>
        <meta property="og:image" content="https://pybit.es/images/featured/pb-article.png">

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@pybites" />
        <meta name="twitter:title" content="Don't Let Indentation Catch You Out" />
        <meta name="twitter:description" content="Python indentation can be a cruel mistress. Let's get it right!" />
        <meta name="twitter:image" content="https://pybit.es/images/featured/pb-article.png">

        <link rel="icon" href="https://pybit.es/favicon.ico">
        <title>Don't Let Indentation Catch You Out - PyBites</title>

        <!-- Stylesheets -->
        <link href="https://pybit.es/theme/css/all.min.css" rel="stylesheet">
        <link href="https://pybit.es/theme/css/style.css" rel="stylesheet">
        <!-- /Stylesheets -->

        <!-- RSS Feeds -->
        <link href="https://pybit.es/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="PyBites Full Atom Feed" />
        <link href="https://pybit.es/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="PyBites Full RSS Feed" />
        <link href="https://pybit.es/feeds/learning.rss.xml" type="application/rss+xml" rel="alternate" title="PyBites Categories RSS Feed" />
        <!-- /RSS Feeds -->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

          <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5859c6a67eb6254d" async="async"></script>

        <!-- Google Analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-89294245-1', 'auto');
          ga('send', 'pageview');
        </script>
        <!-- /Google Analytics -->



    <!-- mailchimp subscribe -->
    <script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">window.dojoRequire(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us14.list-manage.com","uuid":"822043293f280259d4b8d2a3e","lid":"ac7e2eb9ef","uniqueMethods":true}) })</script>
    <!-- end mailchimp subscribe -->

    <!-- Facebook Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '767652523960315');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=767652523960315&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Facebook Pixel Code -->

    </head>

    <body>

        <!-- Header -->
    <div class="header-container gradient">

            <!-- Static navbar -->
            <div class="container">
                <div class="header-nav">
                    <div class="header-logo">
                        <a class="pull-left" href="https://pybit.es/"><img class="mr20" src="https://pybit.es/images/logo.png" alt="logo"></a>
                    </div>
                    <div class="nav pull-right">

                        <div class="dropdown">
                          <span>RESOURCES</span>
                          <div class="dropdown-content">
                                <a href="/friends"
                                >PyBites Friends</a>
                                <a href="/community"
                                >PyBites Community</a>
                                <a href="/archives"
                                >PyBites Articles</a>
                                <a href="https://github.com/PyBites-Open-Source"
                                    target="_blank"
                                >PyBites Open Source</a>
                                <a href="https://www.udemy.com/course/python-flask-for-beginners/"
                                    target="_blank"
                                >Flask Intro Course</a>
                                <a href="/category/challenges"
                                >Blog Code Challenges</a>
                                <a href="/100days"
                                >100 Days of Code</a>
                          </div>
                        </div>

                        <div class="dropdown">
                          <span>SERVICES</span>
                          <div class="dropdown-content">
                                <a href="https://codechalleng.es"
                                    target="_blank"
                                >PyBites Platform</a>
                                <a href="https://members.pybit.es/offers/mfFWRKHG/checkout"
                                    target="_blank"
                                >Python Intro Course</a>
                                <a href="https://pybit.es/tips"
                                    target="_blank"
                                >Python Tips Book</a>
                                <a href="/talk"
                                >PyBites Career Advice</a>
                                <a href="https://pybitesdevelopermindset.com/"
                                    target="_blank"
                                >Build Bigger Apps</a>
                                <a href="/pages/schools"
                                >PyBites in the Classroom</a>
                                <a href="/pages/enterprise"
                                >PyBites in Your Team</a>
                                <a href="/pages/recruiting"
                                >PyBites for Interviewing</a>
                          </div>
                        </div>

                        <div class="dropdown">
                          <a href="https://www.pybitespodcast.com/" id="workshopButton">PyBites Podcast</a>
                        </div>

                    </div>
                </div>
            </div>
            <!-- /Static navbar -->

            <!-- Header -->
    <!-- Header -->
    <div class="container header-wrapper">
        <div class="row">
              <div class="col-lg-12">
                  <div class="header-content">
                      <h1 class="header-title">Don't Let Indentation Catch You Out</h1>
                      <p class="header-date"> <a href="https://pybit.es/author/julian.html">Julian</a>, Fri 30 December 2016,  <a href="https://pybit.es/category/learning.html">Learning</a></p>
                      <div class="header-underline"></div>
                      <div class="clearfix"></div>
                      <p class="pull-right header-tags">
                          <span class="glyphicon glyphicon-tags mr5" aria-hidden="true"></span>
<a href="https://pybit.es/tag/beginners.html">beginners</a>, <a href="https://pybit.es/tag/bestpractices.html">bestpractices</a>, <a href="https://pybit.es/tag/cleancode.html">cleancode</a>, <a href="https://pybit.es/tag/learning.html">learning</a>, <a href="https://pybit.es/tag/python.html">python</a>, <a href="https://pybit.es/tag/tips.html">tips</a>                      </p>
                  </div>
              </div>
        </div>
    </div>
    <!-- /Header -->
            <!-- /Header -->

        </div>
        <!-- /Header -->


        <!-- Content -->
    <div class="container content">
        <p>Every programmer knows the frustration of writing code and hitting run only to have the compiler locate an error that you swear wasn't an error. (That is, I'm hoping it's not just me right?!)</p>
<p>One of the first things to learn with Python is the absolute <strong>importance of indentation</strong>.</p>
<h2>What is Indentation?</h2>
<p>Okay I'll keep this quick. It's just important that I cover this for anyone new to programming.</p>
<p>Indentation is the white space at the front of your code. In all languages you'll see some sort of indentation such as this:</p>
<div class="highlight"><pre><span></span><span class="n">def</span> <span class="n">how_to_be_cool</span><span class="p">():</span>
    <span class="n">wear_aviator_sunglasses</span><span class="p">()</span>
</pre></div>


<p>Notice the space in front of the second line.</p>
<h2>Python's Love Affair With Indentation</h2>
<p>It took me a day or two to fully grasp how dependent Python was on indentation. It's actually part of the beauty of the language. In most other languages you'll be wrapping your code within curly braces {} which can grow tiresome.</p>
<p>Python, however, relies on indents. In the above code, the indent in front of line 2 tells the compiler that this code "belongs" to the <em>how_to_be_cool</em> function.</p>
<p>Check out the difference between Javascript and Python for the same code:</p>
<p><strong>Javascript</strong></p>
<div class="highlight"><pre><span></span><span class="k">function</span> <span class="n">how_to_be_cool</span><span class="p">()</span> <span class="err">{</span>
    <span class="n">wear_aviator_sunglasses</span><span class="p">();</span>
<span class="err">}</span>
</pre></div>


<p><strong>Python</strong></p>
<div class="highlight"><pre><span></span><span class="n">def</span> <span class="n">how_to_be_cool</span><span class="p">():</span>
    <span class="n">wear_aviator_sunglasses</span><span class="p">()</span>
</pre></div>


<p>Much simpler in Python! Anything that's indented by the same amount under the function will be considered part of the function. The general rule of thumb is to use 4 spaces.</p>
<h2>Hanging Indents for Nested Code</h2>
<p>Indents for your nested statements is a little more flexible but there are definitely guidelines. Let's add a simple infinite while Loop to the above code and check out the indentation:</p>
<div class="highlight"><pre><span></span><span class="nv">def</span> <span class="nv">how_to_be_cool</span><span class="ss">()</span>:
    <span class="k">while</span> <span class="nv">True</span>:
        <span class="nv">wear_aviator_sunglasses</span><span class="ss">()</span>
</pre></div>


<p>The while loop is now in the first indent of 4 spaces and the sunglasses function call is indented by a further 4 spaces to indicate that it's now in the loop.</p>
<p>If I want to add code to the <em>how_to_be_cool</em> function after the while loop, I simply write code one indentation margin (4 spaces) "up". Check it out:</p>
<div class="highlight"><pre><span></span><span class="nv">def</span> <span class="nv">how_to_be_cool</span><span class="ss">()</span>:
    <span class="k">while</span> <span class="nv">True</span>:
        <span class="nv">wear_aviator_sunglasses</span><span class="ss">()</span>
    <span class="nv">time</span>.<span class="nv">sleep</span><span class="ss">(</span><span class="mi">5</span><span class="ss">)</span>
</pre></div>


<p>Simple!</p>
<h2>How Indents Can Bite You in the Butt</h2>
<p>This brings me to one of my biggest learning points with Python. <strong>Always Watch Your Indents!</strong></p>
<p>I can't stress that enough. If you're not careful, you are bound to make mistakes and waste time debugging your code. Python expects proper marginalised indents. Unless you're continuing code from the previous line onto subsequent lines, your code needs to line up. If not, Python will most likely spit the dummy.</p>
<p>Of course, you won't always do it intentionally. While editing and fine tuning my own code I was doing so without removing previous indents and spaces. As a result I was left with unexpected spaces that caused my code to error out.</p>
<p>Here's an example of the above code with indentation that's just <em>slightly</em> out of whack:</p>
<div class="highlight"><pre><span></span><span class="nv">def</span> <span class="nv">how_to_be_cool</span>:
    <span class="k">while</span> <span class="nv">True</span>:
        <span class="nv">wear_aviator_sunglasses</span><span class="ss">()</span>
     <span class="nv">time</span>.<span class="nv">sleep</span><span class="ss">(</span><span class="mi">5</span><span class="ss">)</span>
</pre></div>


<p>It may be quite noticeable here but when you've got 200 lines of code it'll be harder to catch. Of course, the compiler should tell you where the error is but it may not jump out at you at first. It sure didn't for me!</p>
<h2>Tabs V Spaces</h2>
<p>I initially wrote this post assuming that tabs were mandatory in Python (as that's how I keep my code clean in other languages). <a href="https://www.python.org/dev/peps/pep-0008/#tabs-or-spaces">The official Python Style Guide</a> actually says otherwise! </p>
<p>Python.org recommends that we use only spaces and never tabs (unless it's to keep consistent with code already with tabs). Always something new to learn!</p>
<h2>Further Reading on Indentation</h2>
<p>There's an extensive list of different indentation scenarios on the <a href="https://www.python.org/dev/peps/pep-0008/#indentation">Python Style Guide</a>. I found it to be quite enlightening! I recommend checking it out posthaste!</p>
<h2>Vim Settings to Make Your Life Easier</h2>
<p>For the Vim lovers out there, adding the following to your <em>.vimrc</em> file will take care of a lot of your indentation woes:</p>
<div class="highlight"><pre><span></span><span class="n">au</span> <span class="n">BufNewFile</span><span class="p">,</span><span class="n">BufRead</span> <span class="o">*</span><span class="p">.</span><span class="n">py</span>
    <span class="err">\</span> <span class="k">set</span> <span class="n">tabstop</span><span class="o">=</span><span class="mi">4</span>
    <span class="err">\</span> <span class="k">set</span> <span class="n">softtabstop</span><span class="o">=</span><span class="mi">4</span>
    <span class="err">\</span> <span class="k">set</span> <span class="n">shiftwidth</span><span class="o">=</span><span class="mi">4</span>
    <span class="err">\</span> <span class="k">set</span> <span class="n">textwidth</span><span class="o">=</span><span class="mi">79</span>
    <span class="err">\</span> <span class="k">set</span> <span class="n">expandtab</span>
    <span class="err">\</span> <span class="k">set</span> <span class="n">autoindent</span>
    <span class="err">\</span> <span class="k">set</span> <span class="n">fileformat</span><span class="o">=</span><span class="n">unix</span>
</pre></div>


<p>These settings will make the following 3 adjustments:</p>
<ol>
<li>Change your tab to be only 4 spaces long instead of the usual 8.</li>
<li>Limit the length of your lines to be 79 characters as per <a href="https://www.python.org/dev/peps/pep-0008/#maximum-line-length">Python specifications</a>.</li>
<li>Save your files in a unix format (helpful for github sharing/interactions etc).</li>
</ol>
<p>Thanks to RealPython.com for this info. They've actually got a heap of other handy settings for Vim + Python in their <a href="https://realpython.com/blog/python/vim-and-python-a-match-made-in-heaven/">original article</a>. Definitely worth checking out!</p>
<h2>Conclusion</h2>
<p>For such a simple concept, indentation can be super complex which is why even the mighty Bob was caught out leaving only 2 spaces in his blocks of code (Sorry Bob!). I no longer feel bad for getting this wrong!</p>
<blockquote>
<p>edit Bob: I shamefully admit I used 2 spaces before, now that I comply with PEP8 using 4 spaces I am so much happier, and people reading my code probably too :)</p>
</blockquote>
<p>Indentation is what makes Python beautiful but is also something that can ruin your afternoon so do yourself a favour, get those vim settings in place to automate it and keep it in the back of your mind that a stray space somewhere could be foiling your Python master plans!</p>
<p>Remember, Keep Calm and Code in Python!</p>
<p>-- Julian</p>


<div id="pbproducts">
  <h3>PyBites Python Tips</h3>
  <div>
    <p>Do you want to get <strong>250+ concise and applicable Python tips</strong> in an ebook that will cost you less than 10 bucks (future updates included), check it out <a href="https://gumroad.com/l/pbtips" target="_blank">here</a>.</p>
    <p>
      <a href="https://gumroad.com/l/pbtips" target="_blank">
        <img src="https://codechalleng.es/static/img/tips-book-thumb.07692e3ba331.png" alt="Get our Python Tips Book">
      </a>
    </p>

    <div id="testimonials">
      <p><i>"The discussions are succinct yet thorough enough to give you a solid grasp of the particular problem. I just wish I would have had this book when I started learning Python." - Daniel H </i></p>
      <p><i>"Bob and Julian are the masters at aggregating these small snippets of code that can really make certain aspects of coding easier." - Jesse B </i></p>
      <p><i>"This is now my favourite first Python go-to reference." - Anthony L </i></p>
      <p><i>"Do you ever go on one of those cooking websites for a recipe and have to scroll for what feels like an eternity to get to the ingredients and the 4 steps the recipe actually takes? This is the opposite of that." - Sergio S </i></p>
      <p class="buttonWrapper">
        <a class="button" href="https://gumroad.com/l/pbtips" target="_blank">
          Get the book
        </a>
      </p>
    </div>
  </div>
</div>    <div class="comments">
        <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'http-pybit-es';
                var disqus_identifier = 'indentation_tips.html';
                var disqus_url = 'https://pybit.es/indentation_tips.html';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
        <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>
        
    </div>
        <!-- /Content --> 

        <!-- Footer -->
        <div class="footer gradient-2">
            <div class="container footer-container ">
                <div class="row">
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Sitemap</div>
                        <ul class="list-unstyled">
                            <li><a href="https://pybit.es/pages/guests.html">Authors</a></li>
                            <li><a href="https://pybit.es/pages/community.html">Community</a></li>
                            <li><a href="https://pybit.es/100days">#100DaysOfCode</a></li>
                            <li><a href="https://pybit.es/pages/search.html">Search</a></li>
                            <li><a href="https://pybit.es/pages/privacy-policy.html">Privacy Policy</a></li>
                              <li><a href="https://pybit.es/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">Atom Feed</a></li>
                              <li><a href="https://pybit.es/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">RSS Feed</a></li>
                            <li><a href="mailto:support@pybit.es" title="Contact us by email">Contact Us</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Reach Out</div>
                        <ul class="list-unstyled">
                            <li><a href="mailto:support@pybit.es" target="_blank">Email</a></li>
                            <li><a href="https://twitter.com/pybites" target="_blank">Twitter</a></li>
                            <li><a href="https://facebook.com/pybites" target="_blank">Facebook</a></li>
                            <li><a href="https://github.com/pybites" target="_blank">Github</a></li>
                            <li><a href="https://github.com/PyBites-Open-Source" target="_blank">Open Source</a></li>
                            <li><a href="https://www.youtube.com/channel/UCBn-uKDGsRBfcB0lQeOB_gA" target="_blank">YouTube</a></li>
                        </ul>
                    </div> 
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                        <p class="pull-right text-right">
                            <small><em>Proudly powered by <a href="http://docs.getpelican.com/" target="_blank">pelican</a></em></small><br/>
                            <small><em>Theme and code by <a href="https://github.com/molivier" target="_blank">molivier</a></em></small><br/>
                            <small>&copy; PyBites 2016+</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Footer -->
    </body>
</html>