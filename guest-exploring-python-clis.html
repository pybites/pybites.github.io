<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Exploring the Modern Python Command-Line Interface The goal here is simple: help the new Python developer with some of the history and terminology around command-line interfaces (CLIs) and explore...">
        <meta name="keywords" content="argparse, cli, click, history, python, typer, unix">
        <link rel="icon" href="https://pybit.es/favicon.ico">

        <title>Exploring the Modern Python Command-Line Interface - PyBites</title>

        <!-- Stylesheets -->
        <link href="https://pybit.es/theme/css/all.min.css" rel="stylesheet">
        <!-- /Stylesheets -->

        <!-- RSS Feeds -->
        <link href="https://pybit.es/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="PyBites Full Atom Feed" />
        <link href="https://pybit.es/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="PyBites Full RSS Feed" />
        <link href="https://pybit.es/feeds/misc.rss.xml" type="application/rss+xml" rel="alternate" title="PyBites Categories RSS Feed" />
        <!-- /RSS Feeds -->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

          <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5859c6a67eb6254d" async="async"></script>

        <!-- Google Analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-89294245-1', 'auto');
          ga('send', 'pageview');
        </script>
        <!-- /Google Analytics -->



    <!-- mailchimp subscribe -->
    <script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">window.dojoRequire(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us14.list-manage.com","uuid":"822043293f280259d4b8d2a3e","lid":"ac7e2eb9ef","uniqueMethods":true}) })</script>
    <!-- end mailchimp subscribe -->

    <!-- Facebook Pixel Code -->
    <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '204929054292880');
      fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=204929054292880&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Facebook Pixel Code -->

    </head>

    <body>

        <!-- Header -->
    <div class="header-container" style="background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('https://pybit.es/images/mixer.jpg'); background-position: center; ">

            <!-- Static navbar -->
            <div class="container">
                <div class="header-nav">
                    <div class="header-logo">
                        <a class="pull-left" href="https://pybit.es/"><img class="mr20" src="https://pybit.es/images/logo.png" alt="logo"></a>
                    </div>
                    <div class="nav pull-right">
                                <a  href="https://pybit.es/">Home</a>
                                <a  href="https://pybit.es/archives.html">Blog</a>
                                <a href="https://codechalleng.es" target="_blank">Platform</a>
                                <a href="https://members.pybit.es/login" target="_blank">Members</a>
                                <a  style="background-color: #ba9926!important; border-radius: 5px;" href="https://pybit.es/pages/apply.html">Apply</a>
                    </div>
                </div>
            </div>
            <!-- /Static navbar -->

            <!-- Header -->
    <!-- Header -->
    <div class="container header-wrapper">
        <div class="row">
              <div class="col-lg-12">
                  <div class="header-content">
                      <h1 class="header-title">Exploring the Modern Python Command-Line Interface</h1>
                      <p class="header-date"> <a href="https://pybit.es/author/erik-oshaughnessy.html">Erik O'Shaughnessy</a>, Mon 27 April 2020,  <a href="https://pybit.es/category/misc.html">Misc</a></p>
                      <div class="header-underline"></div>
                      <div class="clearfix"></div>
                      <p class="pull-right header-tags">
                          <span class="glyphicon glyphicon-tags mr5" aria-hidden="true"></span>
<a href="https://pybit.es/tag/argparse.html">argparse</a>, <a href="https://pybit.es/tag/cli.html">cli</a>, <a href="https://pybit.es/tag/click.html">click</a>, <a href="https://pybit.es/tag/history.html">history</a>, <a href="https://pybit.es/tag/python.html">python</a>, <a href="https://pybit.es/tag/typer.html">typer</a>, <a href="https://pybit.es/tag/unix.html">unix</a>                      </p>
                  </div>
              </div>
        </div>
    </div>
    <!-- /Header -->
            <!-- /Header -->

        </div>
        <!-- /Header -->


        <!-- Content -->
    <div class="container content">
        <h1>Exploring the Modern Python Command-Line Interface</h1>
<p>The goal here is simple: help the new Python developer with some of
the history and terminology around <a href="https://en.wikipedia.org/wiki/Command-line_interface">command-line interfaces</a> (CLIs)
and explore how we write these useful programs in Python.</p>
<h2>In the Beginning...</h2>
<p>First, a <a href="https://en.wikipedia.org/wiki/Unix">Unix</a> persepective on command-line interface design.</p>
<p>Unix is a computer operating system and is the ancestor of Linux
and MacOS (and <a href="https://en.wikipedia.org/wiki/Unix">many other operating systems</a> as well).  Before
graphical user interfaces, the user interacted with the computer
via a command-line prompt (think of today's <a href="https://www.gnu.org/software/bash/">bash</a>
environment). The primary language for developing these programs
under Unix is <a href="https://en.wikipedia.org/wiki/C_(programming_language)">C</a>, which has amazing power for both <a href="https://www.toptal.com/c/after-all-these-years-the-world-is-still-powered-by-c-programming">good</a> and
<a href="https://www.radford.edu/ibarland/Manifestoes/whyC++isBad.shtml">evil</a>.</p>
<blockquote>
<div class="highlight"><pre><span></span> <span class="ss">&quot;C gets sh*t done.&quot;</span>

     <span class="o">-</span> <span class="n">a</span> <span class="n">handsome</span> <span class="k">and</span> <span class="n">yet</span> <span class="n">strangely</span> <span class="n">anonymous</span> <span class="k">C</span> <span class="n">programmer</span>
</pre></div>


</blockquote>
<p>So it behooves us to at least understand the basics of a <a href="https://opensource.com/article/19/5/how-write-good-c-main-function">C program</a> .</p>
<p>Assuming you didn't read that, the basic architecture of a C program
is a function called <strong><code>main</code></strong> whose signature looks like:</p>
<div class="highlight"><pre><span></span>   <span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
   <span class="p">{</span>
   <span class="p">...</span>
   <span class="p">}</span>
</pre></div>


<p>This shouldn't look too strange to a Python programmer. C functions
have a return type first, a function name, and then the typed
arguments inside the parenthesis. Lastly, the body of the function
resides between the curly braces. The function name <strong><code>main</code></strong> is
how the <a href="https://en.wikipedia.org/wiki/Dynamic_linker">runtime linker</a> (the program that constructs and runs
programs) decides where to start executing your program. If you
write a C program and it doesn't include a function named
<strong><code>main</code></strong>, it will not do anything. Sad.</p>
<p>The function argument variables <code>argc</code> and <code>argv</code> together describe
a list of strings which were typed by the user on the command-line
when the program was invoked. In typical terse Unix naming
tradition, <code>argc</code> means <em>argument count</em> and <code>argv</code> means <em>argument
vector</em>. Vector sounds cooler than list and <code>argl</code> would have
sounded like a strangled cry from help. We are Unix system
programmers and we do not cry for "help". We make <em>other</em> people cry
for help.</p>
<h3>Moving On</h3>
<div class="highlight"><pre><span></span><span class="gp">$</span> ./myprog foo bar -x baz
</pre></div>


<p>If <code>myprog</code> is implemented in C, <code>argc</code> will have the value 5 and
<code>argv</code> will be an array of pointers to characters with five entries
(don't worry if that sounds super-technical, it's a list of five
strings). The first entry in the vector, <code>argv[0]</code>, will be the
name of the program. The rest of <code>argv</code> will contain the arguments:</p>
<div class="highlight"><pre><span></span>   <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;./myprog&quot;</span>
   <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;foo&quot;</span>
   <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;bar&quot;</span>
   <span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;-x&quot;</span>
   <span class="n">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;-baz&quot;</span>

   <span class="cm">/* Note: not valid C */</span>
</pre></div>


<p>In C, we have many choices to handle the strings in <code>argv</code>. We could
loop over the array <code>argv</code> <em>manually</em> and interpret each of the
strings according to the needs of the program. This is relatively
easy, but leads to programs with wildly different interfaces as
different programmers have different ideas about what is "good".</p>
<div class="highlight"><pre><span></span><span class="n">include</span> <span class="o">&lt;</span><span class="n">stdio</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;</span>

<span class="cm">/* A simple C program that prints the contents of argv */</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">argc</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="p">}</span>
</pre></div>


<h3>Early Attempts to Standardize the Command-Line</h3>
<p>The next weapon in the command-line arsenal is a <a href="https://en.wikipedia.org/wiki/C_standard_library">C standard
library</a> function called <a href="http://man7.org/linux/man-pages/man3/getopt.3.html"><code>getopt</code></a>. This function allows the
programmer to parse switches, arguments with a dash preceeding it like
<code>-x</code> and optionally pair follow-on arguments with their
switches. Think about command invocations like <code>/bin/ls -alSh</code>,
<code>getopt</code> is the function originally used to parse that argument
string. Using <code>getopt</code> makes parsing the command-line pretty easy and
improves the user experience (UX).</p>
<div class="highlight"><pre><span></span>#<span class="k">include</span> <span class="o">&lt;</span><span class="nv">stdio</span>.<span class="nv">h</span><span class="o">&gt;</span>
#<span class="k">include</span> <span class="o">&lt;</span><span class="nv">getopt</span>.<span class="nv">h</span><span class="o">&gt;</span>

#<span class="nv">define</span> <span class="nv">OPTSTR</span> <span class="s2">&quot;</span><span class="s">b:f:</span><span class="s2">&quot;</span>

<span class="nv">extern</span> <span class="nv">char</span> <span class="o">*</span><span class="nv">optarg</span><span class="c1">;</span>

<span class="nv">int</span> <span class="nv">main</span><span class="ss">(</span><span class="nv">int</span> <span class="nv">argc</span>, <span class="nv">char</span> <span class="o">**</span><span class="nv">argv</span><span class="ss">)</span> {
    <span class="nv">int</span> <span class="nv">opt</span><span class="c1">;</span>
    <span class="nv">char</span> <span class="o">*</span><span class="nv">bar</span> <span class="o">=</span> <span class="nv">NULL</span><span class="c1">;</span>
    <span class="nv">char</span> <span class="o">*</span><span class="nv">foo</span> <span class="o">=</span> <span class="nv">NULL</span><span class="c1">;</span>

    <span class="k">while</span><span class="ss">((</span><span class="nv">opt</span><span class="o">=</span><span class="nv">getopt</span><span class="ss">(</span><span class="nv">argc</span>, <span class="nv">argv</span>, <span class="nv">OPTSTR</span><span class="ss">))</span> <span class="o">!=</span> <span class="nv">EOF</span><span class="ss">)</span>
       <span class="nv">switch</span><span class="ss">(</span><span class="nv">opt</span><span class="ss">)</span> {
          <span class="nv">case</span> <span class="s1">&#39;</span><span class="s">b</span><span class="s1">&#39;</span>:
              <span class="nv">bar</span> <span class="o">=</span> <span class="nv">optarg</span><span class="c1">;</span>
              <span class="k">break</span><span class="c1">;</span>
          <span class="nv">case</span> <span class="s1">&#39;</span><span class="s">f</span><span class="s1">&#39;</span>:
              <span class="nv">foo</span> <span class="o">=</span> <span class="nv">optarg</span><span class="c1">;</span>
              <span class="k">break</span><span class="c1">;</span>
          <span class="nv">case</span> <span class="s1">&#39;</span><span class="s">h</span><span class="s1">&#39;</span>:
          <span class="nv">default</span><span class="s1">&#39;</span><span class="s">:</span>
              <span class="nv">fprintf</span><span class="ss">(</span><span class="nv">stderr</span>, <span class="s2">&quot;</span><span class="s">Huh? try again.</span><span class="s2">&quot;</span><span class="ss">)</span><span class="c1">;</span>
              <span class="k">exit</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span><span class="ss">)</span><span class="c1">;</span>
              <span class="cm">/* NOTREACHED */</span>
       }
    <span class="nv">printf</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">%s</span><span class="se">\n</span><span class="s2">&quot;</span>, <span class="nv">foo</span> ? <span class="nv">foo</span> : <span class="s2">&quot;</span><span class="s">Empty foo</span><span class="s2">&quot;</span><span class="ss">)</span><span class="c1">;</span>
    <span class="nv">printf</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">%s</span><span class="se">\n</span><span class="s2">&quot;</span>, <span class="nv">bar</span> ? <span class="nv">bar</span> : <span class="s2">&quot;</span><span class="s">Empty bar</span><span class="s2">&quot;</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>


<p>On a personal note, I <em>wish</em> Python had switches but that will
<a href="https://www.python.org/dev/peps/pep-0275/">never</a> <a href="https://www.python.org/dev/peps/pep-3103/">happen</a>.</p>
<h3>The GNU Generation</h3>
<p>The <a href="https://www.gnu.org">GNU</a> project came along and introduced longer format
arguments for their implementations of traditional Unix
command-line tools, things like <code>--file-format foo</code>. Of course we
<em>real</em> Unix programmers hated that because it was too much to type,
but like the dinosaurs we are, we lost because the users <em>liked</em>
the longer options. I never wrote any code using the GNU-style
option parsing, so no code example.</p>
<p>GNU-style arguments also accepted short names like <code>-f foo</code> that
had to be supported too.  All of this choice resulted in more
workload for the programmer who just wanted to know what the user
was asking for and get on with it.  But the user got an even more
consistent UX; long and short format options and automatically
generated help that often kept the user from attempting to read
infamously difficult-to-parse <a href="https://en.wikipedia.org/wiki/Man_page">manual</a> pages (see <a href="http://man7.org/linux/man-pages/man1/ps.1.html"><code>ps</code></a> for
a particularly egregious example).</p>
<h2>But We're Talking About Python?</h2>
<p>You have now been exposed to enough (too much?) command-line
history to have some context about how to approach CLIs written
with our favorite language. Python gives us a similar number of
choices for command-line parsing; do it yourself, a
batteries-included option and a <a href="https://www.youtube.com/watch?v=-mTUmczVdik">plethora</a> of third-party
options. Which one you choose depends on your particular
circumstances and needs.</p>
<h3>First, Do It Yourself</h3>
<p>We can get our program's arguments from the <a href="https://docs.python.org/3/library/sys.html"><code>sys</code></a>
module. </p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
   <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
       <span class="k">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>


<p>You can see the C heritage in this short program. There's a reference
to <code>main</code> and <code>argv</code>. The name <code>argc</code> is missing since the Python <a href="https://docs.python.org/3/tutorial/datastructures.html">list</a>
class incorporates the concept of length (or count) internally. If
you are writing a quick throw-away script, this is definitely your
go-to move.</p>
<h3>Batteries Included</h3>
<p>There have been several implementations of argument parsing modules
in the Python standard library; <a href="https://docs.python.org/2/library/getopt.html"><code>getopt</code></a>, <a href="https://docs.python.org/2/library/optparse.html"><code>optparse</code></a>, and
most recently <a href="https://docs.python.org/3/library/argparse.html"><code>argparse</code></a>. <code>Argparse</code> allows the programmer to
provide the user with a consistent and helpful UX, but like it's
GNU antecedents it takes a lot of work and <a href="https://en.wikipedia.org/wiki/Boilerplate_code">'boilerplate code'</a>
on the part of the programmer to make it "good".</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">argparse</span> <span class="kn">import</span> <span class="n">ArgumentParser</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>

   <span class="n">argparser</span> <span class="o">=</span> <span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;My Cool Program&#39;</span><span class="p">)</span>
   <span class="n">argparser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--foo&#39;</span><span class="p">,</span> <span class="s1">&#39;-f&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;A user supplied foo&#39;</span><span class="p">)</span>
   <span class="n">argparser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--bar&#39;</span><span class="p">,</span> <span class="s1">&#39;-b&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;A user supplied bar&#39;</span><span class="p">)</span>

   <span class="n">results</span> <span class="o">=</span> <span class="n">argparser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
   <span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">foo</span><span class="p">,</span> <span class="n">results</span><span class="o">.</span><span class="n">bar</span><span class="p">)</span>
</pre></div>


<p>The payoff for the user is automatically generated help available
when the user invokes the program with <code>--help</code>. But what about the
advantage of <a href="https://www.python.org/dev/peps/pep-0206/">batteries included</a>? Sometimes the circumstances
of your project dictate that you have limited or no access to
third-party libraries, and you have to "make do" with the Python
standard library.</p>
<h3>A Modern Approach to CLIs</h3>
<p>And then there was <a href="https://click.palletsprojects.com/en/7.x/">Click</a>. The<code>Click</code> framework uses a
<a href="https://wiki.python.org/moin/PythonDecorators">decorator</a> approach to building command-line parsing. All of
the sudden it's fun and easy to write a rich command-line
interface. Much of the complexity melts away under the cool and
futuristic use of decorators and users marvel at the automatic
support for keyword completion as well as contextual help. All
while writing less code than previous solutions.  Any time you can
write less code and still get things done is a "win". And we all
want "wins".</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">click</span>

<span class="nd">@click.command</span><span class="p">()</span>
<span class="nd">@click.option</span><span class="p">(</span><span class="s1">&#39;-f&#39;</span><span class="p">,</span> <span class="s1">&#39;--foo&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;User supplied foo.&#39;</span><span class="p">)</span>
<span class="nd">@click.option</span><span class="p">(</span><span class="s1">&#39;-b&#39;</span><span class="p">,</span> <span class="s1">&#39;--bar&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;User supplied bar.&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;My Cool Program</span>

<span class="sd">    It does stuff. Here is the documentation for it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">print</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">echo</span><span class="p">()</span>
</pre></div>


<p>You can see some of the same boilerplate code in the <code>@click.option</code>
decorator as you saw with <code>argparse</code>. But the "work" of creating and
managing the argument parser has been abstracted away. Now our function
<code>echo</code> is called <em>magically</em> with the command-line arguments parsed and
the values assigned to the function arguments.</p>
<p>Adding arguments to a <code>click</code> interface is as easy as adding another
decorator to the stack and adding the new argument to the function
definition.</p>
<h2>But Wait, There's More!</h2>
<p>Built on top of <code>Click</code>, <a href="https://typer.tiangolo.com"><code>Typer</code></a> is an even <em>newer</em> CLI
framework which combines the functionality of <code>Click</code> with modern
Python <a href="https://docs.python.org/3/library/typing.html">type hinting</a>. One of the drawbacks of using <code>Click</code> is
the stack of decorators that have to be added to a function. CLI
arguments have to be specified in two places; the decorator and the
function argument list. <code>Typer</code> <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRYs</a> out CLI specifications,
resulting in code that's easier to read and maintain.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">typer</span>

<span class="n">typer</span> <span class="o">=</span> <span class="n">typer</span><span class="o">.</span><span class="n">Typer</span><span class="p">()</span>

<span class="nd">@typer.command</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="n">foo</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">bar</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;My Cool Program</span>

<span class="sd">    It does stuff. Here is the documentation for it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">print</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>


<h2>Time to Start Writing Some Code</h2>
<p>Which one of these approaches is right? It depends on <em>your</em> use
case. Are you writing a quick and dirty script that only you will
use? Use <code>sys.argv</code> directly and drive on. Do you need more
robust command-line parsing?  Maybe <code>argparse</code> is enough. Maybe you
have lots of subcommands and complicated options and your team is
going to use it daily? Now you should definitely consider <code>Click</code>
or <code>Typer</code>. Part of the fun of being a programmer is hacking out
alternate implementations to see which one suits you best. </p>
<p>Finally, there are <em>many</em> third-party packages for parsing
command-line arguments in Python. I've only presented the ones I like
or have used. It is entirely fine and expected for you to like and/or use
different packages. My advice is to start with these and see where you
end up.</p>
<p>Go write something cool.</p>
<p>-- <a href="pages/guests.html#erikoshaughnessy">Erik</a></p>
<p>(Cover photo by Dylan McLeod on Unsplash)</p>
<!-- URLS -->


    <div class="comments">
        <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'http-pybit-es';
                var disqus_identifier = 'guest-exploring-python-clis.html';
                var disqus_url = 'https://pybit.es/guest-exploring-python-clis.html';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
        <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>
        
    </div>
        <!-- /Content --> 

        <!-- Footer -->
        <div class="footer gradient-2">
            <div class="container footer-container ">
                <div class="row">
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Sitemap</div>
                        <ul class="list-unstyled">
                            <li><a href="https://pybit.es/pages/guests.html">Authors</a></li>
                            <li><a href="https://pybit.es/pages/community.html">Community</a></li>
                            <li><a href="https://pybit.es/pages/100days.html">100 Days Of Code</a></li>
                            <li><a href="https://pybit.es/pages/search.html">Search</a></li>
                            <li><a href="https://pybit.es/pages/privacy-policy.html">Privacy Policy</a></li>
                            <li><a href="https://pybit.es/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">Atom Feed</a></li>
                            <li><a href="https://pybit.es/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">RSS Feed</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Reach Out</div>
                        <ul class="list-unstyled">
                            <li><a href="mailto:info@pybit.es" target="_blank">Email</a></li>
                            <li><a href="https://twitter.com/pybites" target="_blank">Twitter</a></li>
                            <li><a href="https://facebook.com/pybites" target="_blank">Facebook</a></li>
                            <li><a href="https://github.com/pybites" target="_blank">Github</a></li>
                            <li><a href="https://github.com/PyBites-Open-Source" target="_blank">Open Source</a></li>
                            <li><a href="https://www.youtube.com/channel/UCBn-uKDGsRBfcB0lQeOB_gA" target="_blank">YouTube</a></li>
                        </ul>
                    </div> 
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                        <p class="pull-right text-right">
                            <small><em>Proudly powered by <a href="http://docs.getpelican.com/" target="_blank">pelican</a></em></small><br/>
                            <small><em>Theme and code by <a href="https://github.com/molivier" target="_blank">molivier</a></em></small><br/>
                            <small>&copy; PyBites 2016+</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Footer -->
    </body>
</html>