
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="https://pybit.es/theme/stylesheet/style.min.css">
  <link rel="stylesheet" type="text/css" href="https://pybit.es/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="https://pybit.es/theme/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css">
  <link rel="stylesheet" type="text/css" href="https://pybit.es/theme/stylesheet/ribbons.css">
  <link rel="stylesheet" type="text/css" href="https://pybit.es/theme/stylesheet/custom.css">


    <link href="https://pybit.es/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="PyBites RSS">

    <link rel="shortcut icon" href="https://pybit.es/favicon.ico" type="image/x-icon">
    <link rel="icon" href="https://pybit.es/favicon.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />


<meta name="author" content="PyBites" />
<meta name="description" content="Wow! We have been amazed by the great response on github and HN. It's Friday so we review the code challenge of this week. We describe our learning and a possible solution. We will also digest comments left on the Monday post." />
<meta name="keywords" content="codechallenges, code review, HN, github, learning, max, generators, scrabble, refactoring">
<meta property="og:site_name" content="PyBites"/>
<meta property="og:title" content="Code Challenge 01 - Word Values Part I - Review"/>
<meta property="og:description" content="Wow! We have been amazed by the great response on github and HN. It's Friday so we review the code challenge of this week. We describe our learning and a possible solution. We will also digest comments left on the Monday post."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://pybit.es/codechallenge01_review.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2017-01-13 12:40:00+01:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://pybit.es/author/pybites.html">
<meta property="article:section" content="Challenges"/>
<meta property="article:tag" content="codechallenges"/>
<meta property="article:tag" content="code review"/>
<meta property="article:tag" content="HN"/>
<meta property="article:tag" content="github"/>
<meta property="article:tag" content="learning"/>
<meta property="article:tag" content="max"/>
<meta property="article:tag" content="generators"/>
<meta property="article:tag" content="scrabble"/>
<meta property="article:tag" content="refactoring"/>
<meta property="og:image" content="https://pybit.es/images/featured/pb-challenge.png">

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@pybites" />
<meta name="twitter:title" content="Code Challenge 01 - Word Values Part I - Review" />
<meta name="twitter:description" content="Wow! We have been amazed by the great response on github and HN. It's Friday so we review the code challenge of this week. We describe our learning and a possible solution. We will also digest comments left on the Monday post." />
<meta name="twitter:image" content="https://pybit.es/images/featured/pb-challenge.png">

  <title>PyBites &ndash; Code Challenge 01 - Word Values Part I - Review</title>


</head>
<body>

  <!-- change aside color based on article vs challenge vs news -->
    <aside class='red'>

    <div>
      <a href="https://pybit.es">

			<img src="https://pybit.es/theme/img/challenges.png" alt="PyBites" title="PyBites">

      </a>
      <h1><a href="https://pybit.es">PyBites</a></h1>

<p>Python Code Challenges, Articles and News - One Bite a Day</p>
      <nav>
        <ul class="list">
          <li><a href="https://pybit.es/pages/about.html">About</a></li>
          <li><a href="https://pybit.es/pages/articles.html">Articles</a></li>
          <li><a href="https://pybit.es/pages/challenges.html">Challenges</a></li>
          <li><a href="https://pybit.es/pages/news.html">News</a></li>
          <li><a href="https://pybit.es/pages/projects.html">Projects</a></li>
          <li><a href="https://pybit.es/pages/search.html">Search</a></li>

        </ul>
      </nav>


	      <a class="twitter-follow-button" href="https://twitter.com/pybites" data-show-screen-name="false" data-size="large" data-show-count="false">Follow @pybites</a>

		    <a class="github-button" href="https://github.com/pybites" data-size="large" aria-label="Follow @pybites on GitHub">Follow</a>

	
    </div>


  </aside>
  <main>


<article class="single">
  <header>
    <h1 id="codechallenge01_review">Code Challenge 01 - Word Values Part I - Review</h1>
    <p>
          Posted by <a href="https://pybit.es/author/pybites.html">PyBites</a> on Fri 13 January 2017 in <a href="https://pybit.es/category/challenges.html">Challenges</a>


        &#8226; 5 min read
    </p>
  </header>


  <div>
    <h2>Thanks for coding with us!</h2>
<p>Wow! We have been amazed by the great response on <a href="https://github.com/pybites/challenges">github</a> and <a href="https://news.ycombinator.com/item?id=13352447">HN</a>. It's so cool to see <a href="https://github.com/pybites/challenges/network/members">many developers</a> jump on this :) </p>
<p>This is awesome!</p>
<p><img alt="awesome response on github, 70 forks as of this writing" src="https://pybit.es/images/awesome-response.png"></p>
<p>It's Friday so we review the code challenge of this week. We describe our learning, a possible solution. We will also digest comments left on the <a href="http://pybit.es/codechallenge01.html">Monday post</a>.</p>
<h2>Process and learning</h2>
<h3>&gt;&gt;&gt; Julian</h3>
<p>It's funny, going into this challenge I actually thought it was going to be easy! I was wrong!
The concept was simple enough and I had a decent idea as to how I was going to write the program. I hit a wall however, when I realised I had to code my answer within the framework of the unittest. </p>
<p>As a newbie programmer, having to almost "restrict" my code to work with the unittest was quite difficult.
Furthermore, working with the external data.py file also added a little complexity. I'm definitely used to having all data and variables located in the local file I'm working on.</p>
<p>Probably the biggest pain point was trying to work with the LETTER_SCORES dict:</p>
<div class="highlight"><pre><span></span>LETTER_SCORES = {letter: score for score, letters in scrabble_scores
                              for letter in letters.split()}
</pre></div>


<p>The for loop within the dict threw me off completely and I spent what felt like hours trying to make sense of it. It wasn't until Bob expanded it out into multiple lines of code that it finally made sense.</p>
<p>On the flip side, I was pleasantly surprised with myself when I got the load_words() function working. I recalled Bob's comment on my code that I could use 'with' (context manager) to open an external file. Doing this made it much simpler.</p>
<p>Working on the max_word_value() function was equally as satisfying as it was much more familiar coding ... but that may not be a good thing.</p>
<p>In the end I wasn't actually able to get the program working. Not my proudest moment but definitely an eye opener as to how much further I have to go with my code. I'll hopefully have time this weekend to take another look - maybe a fresh look after a day off will highlight something I missed earlier!</p>
<p>My code is <a href="https://github.com/hobojoe1848/challenges/tree/master/01">here</a> if you're interested! Be gentle!</p>
<p>Going forward with these challenges, I think we'll try and shake it up a little. Not make it "mandatory" to code the program within the unittest framework which should allow us to get a more diverse code base from the community.</p>
<p>Overall, while difficult for me and even frustrating at times, I definitely enjoyed the challenge. It forced me to learn to read code I'd never seen before and rethink the way I write it myself.</p>
<h2>Possible solution and Python idioms</h2>
<h3>&gt;&gt;&gt; Bob</h3>
<p>This was a good exercise. As Julian said we might leave out unittests next time to make it less stringent and make up other requirements like max LOC. We also will provide two template files: beginner (more hand-holding) and advanced (almost blank file). You will see it on Monday ...</p>
<p>My code is <a href="https://github.com/bbelderbos/challenges/tree/solutions/01">here</a>. Some comments:</p>
<h4>load_words()</h4>
<div class="highlight"><pre><span></span>def load_words():
    with open(DICTIONARY) as f:
        return [word.strip() for word in f.read().split()]
</pre></div>


<p>Yes, "with" is the way to go to open files. Initially I had return f.read().split() but then I saw the comment of <a href="http://pybit.es/codechallenge01.html">sesh00</a>: he used a list comprehension to make sure each word had whitespace stripped which is a good approach.</p>
<h4>calc_word_value(word)</h4>
<div class="highlight"><pre><span></span>def calc_word_value(word):
    return sum(LETTER_SCORES.get(char.upper(), 0) for char in word)
</pre></div>


<p>The dictionary. You can access values by using letter keys as LETTER_SCORES['A'] etc, but what if there is a non-valid character? There were two words with '-' in it so they would cause a KeyError. Using the dict get() method you can give it a default value of 0. Safety first: </p>
<div class="highlight"><pre><span></span><span class="err">$</span> <span class="n">grep</span> <span class="p">[</span><span class="o">^</span><span class="n">A</span><span class="o">-</span><span class="n">Za</span><span class="o">-</span><span class="n">z</span><span class="p">]</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">txt</span> 
<span class="n">Jean</span><span class="o">-</span><span class="n">Christophe</span>
<span class="n">Jean</span><span class="o">-</span><span class="n">Pierre</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">word</span> <span class="o">=</span> <span class="s1">&#39;Jean-Christophe&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">data</span> <span class="kn">import</span> <span class="n">LETTER_SCORES</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">LETTER_SCORES</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">upper</span><span class="p">()]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span><span class="p">]</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">listcomp</span><span class="o">&gt;</span>
<span class="ne">KeyError</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">LETTER_SCORES</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span><span class="p">]</span>
<span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>


<p>For another more verbose (cleaner?) way to write this see <a href="https://github.com/jrjames83/pybit-es-01/blob/master/01%20Scrabble%20Solution.ipynb">here</a>:</p>
<div class="highlight"><pre><span></span>scores = [LETTER_SCORES[letter] for letter in letters 
            if letter in LETTER_SCORES.keys()]
</pre></div>


<p>Then I use sum() to add up all letter values. You can give it a list comprehension but also a generator which is best practice (lazy loading):</p>
<div class="highlight"><pre><span></span># sum with list comprehension
&gt;&gt;&gt; sum([LETTER_SCORES.get(c.upper(), 0) for c in word])
31
# or with a generator, just drop the []
&gt;&gt;&gt; sum(LETTER_SCORES.get(c.upper(), 0) for c in word)
31
</pre></div>


<p>Of course you can totally write just a for loop and sum to a total variable. And as a beginner I encourage you to actually do this to get a feel for how an iterator works internally.</p>
<h4>max_word_value(words)</h4>
<div class="highlight"><pre><span></span>def max_word_value(words=None):
    return max(words or load_words(), key=lambda w: calc_word_value(w))
</pre></div>


<p>This might be advanced to a beginner. To pass the unittests you have to account for two scenarios: </p>
<ul>
<li>
<p>A word list is given, if not load the default dictionary, I do this in one statement with or, using default arg None for words.</p>
</li>
<li>
<p>Use a criteria for max.</p>
</li>
</ul>
<p>The max builtin calculates the max of an iterator, very convenient here. The cool thing is that it takes a key optional argument (like the sorted() builtin) which you can give a function to 'max on'. </p>
<p>In this case I don't want to max on for example len of word, but on the word value, so we re-use calc_word_value() here. For more details on this I recommend reading <a href="https://dbader.org/blog/python-min-max-and-nested-lists">this great article</a>.</p>
<h2>PyBites digest of comments on Monday's challenge post</h2>
<p>Thanks for <a href="http://pybit.es/codechallenge01.html#disqus_thread">your comments</a>. We are really stoked to learn about all these different approaches. Also you cannot read enough other developers' code, it's a great way to learn fast!</p>
<ul>
<li>
<p>We already mentioned <a href="https://github.com/sesh/challenges/blob/master/01/wordvalue.py">Sesh' solution</a>, similar to ours, yet still some minor differences / improvements. Queston for the comments (anybody?): words=load_words() as default arg to max_word_value(), probably not a problem here, but doesn't that fall under the <a href="http://docs.python-guide.org/en/latest/writing/gotchas/">Mutable Default Arguments gotcha</a>?</p>
</li>
<li>
<p><a href="https://github.com/ukaratay/challenges/blob/master/01/wordvalue.py">ukaratay solution</a> is also similar, but he uses upper() on the word = 1 call instead my multiple calls for each char = better. Tiny details but they matter when you add them up and when things scale.</p>
<div class="highlight"><pre><span></span>return sum(LETTER_SCORES.get(char, 0) for char in word.upper())
</pre></div>


</li>
<li>
<p><a href="https://github.com/alhart2015/challenges/blob/master/01/wordvalue.py">alhart2015 solution</a> is a great addition, specially max_word_value() has a longer format, probably easier to read to people just starting out in Python.</p>
</li>
<li>
<p><a href="https://github.com/jrjames83/pybit-es-01/blob/master/01%20Scrabble%20Solution.ipynb">check out this notebook</a>, Jeffrey James shared a complete Pandas solution. The cool thing about this approach is that it calculates the score for each dictionary word and loads it into a Pandas dataframe which he uses to show us the relationship between word length and score, interesting. Well done and thanks Jeffrey!</p>
</li>
</ul>
  </div>

  <hr>
  <p><strong>See an error in this post? Please submit a pull request <a href='https://github.com/pybites/pybites.github.io-src' target='_blank'>on Github.</strong></p>

  <h3>&gt;&gt;&gt; next(PyBites)</h3>
<!-- Begin MailChimp Signup Form -->
<div id="mc_embed_signup">
<form action="//pybit.us14.list-manage.com/subscribe/post?u=822043293f280259d4b8d2a3e&amp;id=ac7e2eb9ef" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    
<div class="mc-field-group">
    <p>Get our 'Become a Better Python Developer' cheat sheet sent straight to your inbox by signing up for our <a href='http://us14.campaign-archive1.com/home/?u=822043293f280259d4b8d2a3e&id=ac7e2eb9ef'>Newsletter</a>:</p>
    <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Email Address">
</div>
    <div id="mce-responses" class="clear">
        <div class="response" id="mce-error-response" style="display:none"></div>
        <div class="response" id="mce-success-response" style="display:none"></div>
    </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_822043293f280259d4b8d2a3e_ac7e2eb9ef" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Join Us" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>
<!--End mc_embed_signup-->
  <div class="tag-cloud">
    <p>
      <a href="https://pybit.es/tag/codechallenges.html">codechallenges</a>
      <a href="https://pybit.es/tag/code-review.html">code review</a>
      <a href="https://pybit.es/tag/hn.html">HN</a>
      <a href="https://pybit.es/tag/github.html">github</a>
      <a href="https://pybit.es/tag/learning.html">learning</a>
      <a href="https://pybit.es/tag/max.html">max</a>
      <a href="https://pybit.es/tag/generators.html">generators</a>
      <a href="https://pybit.es/tag/scrabble.html">scrabble</a>
      <a href="https://pybit.es/tag/refactoring.html">refactoring</a>
    </p>
  </div>

  <div class="center social-share">
    <p>    Like this article? Share it with your friends!
</p>
    <div class="addthis_native_toolbox"></div>
    <div class="addthis_sharing_toolbox"></div>
  </div>



<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'http-pybit-es';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
</article>

    <footer>
<p>&copy; pybites </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89294245-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

	<script>window.twttr = (function(d, s, id) {
	var js, fjs = d.getElementsByTagName(s)[0],
		t = window.twttr || {};
	if (d.getElementById(id)) return t;
	js = d.createElement(s);
	js.id = id;
	js.src = "https://platform.twitter.com/widgets.js";
	fjs.parentNode.insertBefore(js, fjs);
	t._e = [];
	t.ready = function(f) {
		t._e.push(f);
	};
	return t;
	}(document, "script", "twitter-wjs"));</script>

  <script async defer src="https://buttons.github.io/buttons.js"></script>
	
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5859c6a67eb6254d" async="async"></script>


<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " PyBites ",
  "url" : "https://pybit.es",
  "image": "https://pybit.es/theme/img/profile.png",
  "description": "Python Code Challenges, Articles and News - One Bite a Day"
}
</script>
</body>
</html>