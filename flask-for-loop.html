<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Thanks to the 100 Days of Code Challenge, this week I took the plunge and dove into Python Flask. It’s not the easiest beast to tame but once you wrap your head around it, it’s not so bad! One of...">
        <meta name="keywords" content="decorators, Flask, learning, loops, python, tutorial">
        <link rel="icon" href="https://pybit.es/favicon.ico">

        <title>Flask for Loops - Printing Dict Data - PyBites</title>

        <!-- Stylesheets -->
        <link href="https://pybit.es/theme/css/all.min.css" rel="stylesheet">
        <link href="https://pybit.es/theme/css/style.css" rel="stylesheet">
        <!-- /Stylesheets -->

        <!-- RSS Feeds -->
        <link href="https://pybit.es/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="PyBites Full Atom Feed" />
        <link href="https://pybit.es/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="PyBites Full RSS Feed" />
        <link href="https://pybit.es/feeds/flask.rss.xml" type="application/rss+xml" rel="alternate" title="PyBites Categories RSS Feed" />
        <!-- /RSS Feeds -->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

          <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5859c6a67eb6254d" async="async"></script>

        <!-- Google Analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-89294245-1', 'auto');
          ga('send', 'pageview');
        </script>
        <!-- /Google Analytics -->



    <!-- mailchimp subscribe -->
    <script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">window.dojoRequire(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us14.list-manage.com","uuid":"822043293f280259d4b8d2a3e","lid":"ac7e2eb9ef","uniqueMethods":true}) })</script>
    <!-- end mailchimp subscribe -->

    <!-- Facebook Pixel Code -->
    <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '204929054292880');
      fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=204929054292880&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Facebook Pixel Code -->

    </head>

    <body>

        <!-- Header -->
    <div class="header-container gradient">

            <!-- Static navbar -->
            <div class="container">
                <div class="header-nav">
                    <div class="header-logo">
                        <a class="pull-left" href="https://pybit.es/"><img class="mr20" src="https://pybit.es/images/logo.png" alt="logo"></a>
                    </div>
                    <div class="nav pull-right">

                        <div class="dropdown">
                          <span>RESOURCES</span>
                          <div class="dropdown-content">
                                <a href="/archives.html"
                                >Articles</a>
                                <a href="/pages/community.html"
                                >Community</a>
                                <a href="https://github.com/PyBites-Open-Source"
                                    target="_blank"
                                >Open Source</a>
                                <a href="https://www.udemy.com/course/python-flask-for-beginners/"
                                    target="_blank"
                                >Flask Intro</a>
                                <a href="https://pybit.us14.list-manage.com/subscribe?u=822043293f280259d4b8d2a3e&id=ac7e2eb9ef"
                                    target="_blank"
                                >Newsletter</a>
                          </div>
                        </div>

                        <div class="dropdown">
                          <span>SERVICES</span>
                          <div class="dropdown-content">
                                <a href="/pages/newbie.html"
                                >Newbies</a>
                                <a href="https://codechalleng.es"
                                    target="_blank"
                                >Python Exercises</a>
                                <a href="/pages/100days.html"
                                >100 Days Of Code</a>
                                <a href="/pages/schools.html"
                                >Schools</a>
                                <a href="/pages/enterprise.html"
                                >Enterprise</a>
                                <a href="/pages/recruiting.html"
                                >Recruiter</a>
                                <a href="/pages/apply.html"
                                >Coaching</a>
                          </div>
                        </div>

                        <div class="dropdown">
                          <span>TALK TO US</span>
                          <div class="dropdown-content">
                                <a href="mailto:info@pybit.es"
                                >Email</a>
                                <a href="https://twitter.com/pybites"
                                    target="_blank"
                                >Twitter</a>
                          </div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- /Static navbar -->

            <!-- Header -->
    <!-- Header -->
    <div class="container header-wrapper">
        <div class="row">
              <div class="col-lg-12">
                  <div class="header-content">
                      <h1 class="header-title">Flask for Loops - Printing Dict Data</h1>
                      <p class="header-date"> <a href="https://pybit.es/author/julian.html">Julian</a>, Thu 06 April 2017,  <a href="https://pybit.es/category/flask.html">Flask</a></p>
                      <div class="header-underline"></div>
                      <div class="clearfix"></div>
                      <p class="pull-right header-tags">
                          <span class="glyphicon glyphicon-tags mr5" aria-hidden="true"></span>
<a href="https://pybit.es/tag/decorators.html">decorators</a>, <a href="https://pybit.es/tag/flask.html">Flask</a>, <a href="https://pybit.es/tag/learning.html">learning</a>, <a href="https://pybit.es/tag/loops.html">loops</a>, <a href="https://pybit.es/tag/python.html">python</a>, <a href="https://pybit.es/tag/tutorial.html">tutorial</a>                      </p>
                  </div>
              </div>
        </div>
    </div>
    <!-- /Header -->
            <!-- /Header -->

        </div>
        <!-- /Header -->


        <!-- Content -->
    <div class="container content">
        <p>Thanks to the <a href="http://pybit.es/special-100days.html">100 Days of Code Challenge</a>, this week I took the plunge and dove into Python Flask.</p>
<p>It’s not the easiest beast to tame but once you wrap your head around it, it’s not so bad!</p>
<p>One of the concepts I struggled with early on was how to return more than “just” a single string to the Flask app web page.</p>
<h2>Python Setup</h2>
<p>Check out the full code for this <a href="https://github.com/pybites/blog_code/tree/master/flask_for_loop">here</a>.</p>
<ul>
<li>I decided I wanted to print out a dict of birthdays. You can see I’ve created a route to a page called ‘birthdays’. The function associated with this decorator contains the dict we want to display.</li>
</ul>
<div class="highlight"><pre><span></span>@<span class="nv">app</span>.<span class="nv">route</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">/birthdays</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="nv">def</span> <span class="nv">birthdays</span><span class="ss">()</span>:
    <span class="nv">dates</span> <span class="o">=</span> {<span class="s2">&quot;</span><span class="s">Julian</span><span class="s2">&quot;</span>: <span class="mi">25</span>, <span class="s2">&quot;</span><span class="s">Bob</span><span class="s2">&quot;</span>: <span class="mi">26</span>, <span class="s2">&quot;</span><span class="s">Dan</span><span class="s2">&quot;</span>: <span class="mi">47</span>, <span class="s2">&quot;</span><span class="s">Cornelius</span><span class="s2">&quot;</span>: <span class="mi">3</span>}
    <span class="k">return</span> <span class="nv">render_template</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">birthdays.html</span><span class="s2">&quot;</span>, <span class="nv">dates</span><span class="o">=</span><span class="nv">dates</span><span class="ss">)</span>
</pre></div>


<ul>
<li>
<p>Being Flask, we need to have a templates folder in the same directory that the main.py script is being run from.</p>
</li>
<li>
<p>In the templates folder we’ll need to have a birthdays.html file for the above route to work with.</p>
</li>
</ul>
<h2>HTML Setup</h2>
<p>With the main.py file all set up, we can focus on birthdays.html. (Again, all of this is in the <a href="https://github.com/pybites/blog_code/tree/master/flask_for_loop">code Repo</a>!).</p>
<ul>
<li>
<p>The simplest and most pleasing way to display this data would be in a table. </p>
</li>
<li>
<p>The stylesheet (style.css) we’ll be using lives in another folder called ‘static’. This folder lives at the same hierarchical level as the templates folder - go ahead and create it.</p>
</li>
<li>
<p>As an example, in style.css we have a CSS class just to give the table a slightly thicker border.</p>
</li>
</ul>
<div class="highlight"><pre><span></span><span class="na">.thick-border</span> <span class="err">{</span>
        <span class="nl">border:</span> <span class="err">3</span><span class="nf">px</span> <span class="no">solid</span> <span class="no">black</span><span class="c">;</span>
        <span class="nl">border-collapse:</span> <span class="nf">collapse</span><span class="c">;</span>
<span class="err">}</span>
</pre></div>


<ul>
<li>We can then create the table. The first row will be the table headers.</li>
</ul>
<div class="highlight"><pre><span></span><span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">&quot;centered thick-border&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;th&gt;</span>First name<span class="nt">&lt;/th&gt;</span>
                <span class="nt">&lt;th&gt;</span>Age<span class="nt">&lt;/th&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</pre></div>


<h2>Flask in Action</h2>
<ul>
<li>
<p>With the table set up we can now start populating it with the contents of the <em>dates</em> dict from main.py.</p>
</li>
<li>
<p>When inserting Python code into the HTML file, we wrap it in {% %} so Flask knows to differentiate it from normal HTML code.</p>
</li>
<li>
<p>To print out the contents of the dict, we can use a for loop. The idea of the for loop stays the same, it’s just spread out across multiple lines and wrapped in HTML. First we start with the opening of the for loop.</p>
</li>
</ul>
<div class="highlight"><pre><span></span>{<span class="o">%</span> <span class="k">for</span> <span class="nv">k</span>, <span class="nv">v</span> <span class="nv">in</span> <span class="nv">dates</span>.<span class="nv">items</span><span class="ss">()</span> <span class="o">%</span>}
</pre></div>


<ul>
<li>We don’t need to explicitly call <em>print</em> to read out the values of <em>k</em> and <em>v</em>. We just need to choose how they’ll be displayed on the page in HTML.</li>
</ul>
<div class="highlight"><pre><span></span><span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;td&gt;</span><span class="cp">{{</span> <span class="nv">k</span> <span class="cp">}}</span><span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;</span><span class="cp">{{</span> <span class="nv">v</span> <span class="cp">}}</span><span class="nt">&lt;/td&gt;</span>
<span class="nt">&lt;/tr&gt;</span>
</pre></div>


<ul>
<li>
<p>You’ll notice the {{ }} around the variables. This is another flag to Flask that these are Python variables and not a bit of HTML code.</p>
</li>
<li>
<p>We then have to close off the for loop with one last bit of special Flask code.</p>
</li>
</ul>
<div class="highlight"><pre><span></span><span class="err">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="err">}</span>
</pre></div>


<h2>Final Result</h2>
<ul>
<li>This is what the code for the table should look like.</li>
</ul>
<div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nv">table</span> <span class="nv">class</span><span class="o">=</span><span class="s2">&quot;</span><span class="s">centered thick-border</span><span class="s2">&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nv">tr</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nv">th</span><span class="o">&gt;</span><span class="nv">First</span> <span class="nv">name</span><span class="o">&lt;/</span><span class="nv">th</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nv">th</span><span class="o">&gt;</span><span class="nv">Age</span><span class="o">&lt;/</span><span class="nv">th</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="nv">tr</span><span class="o">&gt;</span>
        {<span class="o">%</span> <span class="k">for</span> <span class="nv">k</span>, <span class="nv">v</span> <span class="nv">in</span> <span class="nv">dates</span>.<span class="nv">items</span><span class="ss">()</span> <span class="o">%</span>}
                <span class="o">&lt;</span><span class="nv">tr</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="nv">td</span><span class="o">&gt;</span>{{ <span class="nv">k</span> }}<span class="o">&lt;/</span><span class="nv">td</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="nv">td</span><span class="o">&gt;</span>{{ <span class="nv">v</span> }}<span class="o">&lt;/</span><span class="nv">td</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="nv">tr</span><span class="o">&gt;</span>
        {<span class="o">%</span> <span class="nv">endfor</span> <span class="o">%</span>}
<span class="o">&lt;/</span><span class="nv">table</span><span class="o">&gt;</span>
</pre></div>


<ul>
<li>Here’s what the web page will look like.</li>
</ul>
<p><img alt="Table populated by Python dict code" src="https://pybit.es/images/flask-bday-table.png"></p>
<ul>
<li>The beauty is that you can add as much data (keys, values) to the dict as you want and the table will always be drawn to match the content. Give it a try!</li>
</ul>
<h2>Learning Points</h2>
<ul>
<li>
<p>Flask requires that the decorator function you’re using <strong>returns</strong> something. It could be something as simple as: <em>return ‘This is a string’</em>. The point is, data needs to be returned. I struggled to understand how I could return each for loop pass over the dict! After continued research and reading, I learned about the HTML templates and how you write put the Python code there instead.</p>
</li>
<li>
<p>Unsurprisingly, making something that’s pleasing to the eye requires some knowledge or experience with HTML and CSS. I was pretty dusty!</p>
</li>
<li>
<p>In the full example you’ll see how it all meshes together - the static and templates folder and the main.py file living above them. Having experience with web dev makes this environment a lot easier to understand.</p>
</li>
<li>
<p>It’s tough but extremely rewarding to move on from static return lines of just “hello world” to displaying data. That is, moving forward, the data printed by the loop could be generated on the fly. That’s exciting!</p>
</li>
</ul>
<h2>Next Steps</h2>
<ul>
<li>
<p>Next up I’d like to make this interactive. Perhaps have the user enter birthdays via a web form themselves and once completed, have the birthdays print to screen in a table.</p>
</li>
<li>
<p>The data really should be stored in a database or shelf too, not in a static dict.</p>
</li>
<li>
<p>Get my CSS game on and make this baby pretty!</p>
</li>
</ul>
<p>You’ll be seeing more Flask in the coming weeks (I hope!). I’d actually like to wrap this for loop around the data set for <a href="http://pybit.es/codechallenge13.html">this week’s code challenge</a>… hmm…</p>
<p>Keep Calm and Code in Python!</p>
<p>— Julian</p>


    <div class="comments">
        <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'http-pybit-es';
                var disqus_identifier = 'flask-for-loop.html';
                var disqus_url = 'https://pybit.es/flask-for-loop.html';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
        <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>
        
    </div>
        <!-- /Content --> 

        <!-- Footer -->
        <div class="footer gradient-2">
            <div class="container footer-container ">
                <div class="row">
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Sitemap</div>
                        <ul class="list-unstyled">
                            <li><a href="https://pybit.es/pages/guests.html">Authors</a></li>
                            <li><a href="https://pybit.es/pages/community.html">Community</a></li>
                            <li><a href="https://pybit.es/pages/100days.html">100 Days Of Code</a></li>
                            <li><a href="https://pybit.es/pages/search.html">Search</a></li>
                            <li><a href="https://pybit.es/pages/privacy-policy.html">Privacy Policy</a></li>
                              <li><a href="https://pybit.es/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">Atom Feed</a></li>
                              <li><a href="https://pybit.es/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">RSS Feed</a></li>
                            <li><a href="mailto:support@pybit.es" title="Contact us by email">Contact Us</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Reach Out</div>
                        <ul class="list-unstyled">
                            <li><a href="mailto:info@pybit.es" target="_blank">Email</a></li>
                            <li><a href="https://twitter.com/pybites" target="_blank">Twitter</a></li>
                            <li><a href="https://facebook.com/pybites" target="_blank">Facebook</a></li>
                            <li><a href="https://github.com/pybites" target="_blank">Github</a></li>
                            <li><a href="https://github.com/PyBites-Open-Source" target="_blank">Open Source</a></li>
                            <li><a href="https://www.youtube.com/channel/UCBn-uKDGsRBfcB0lQeOB_gA" target="_blank">YouTube</a></li>
                        </ul>
                    </div> 
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                        <p class="pull-right text-right">
                            <small><em>Proudly powered by <a href="http://docs.getpelican.com/" target="_blank">pelican</a></em></small><br/>
                            <small><em>Theme and code by <a href="https://github.com/molivier" target="_blank">molivier</a></em></small><br/>
                            <small>&copy; PyBites 2016+</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Footer -->
    </body>
</html>